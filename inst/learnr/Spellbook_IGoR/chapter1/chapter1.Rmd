---
title: "Chapter 1 - Calculate the Age of Icarius"
output: 
  html_document:
    theme: cerulean
    highlight: haddock
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
    number_sections: false
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)
library(knitr)
knitr::opts_chunk$set(echo = TRUE)
```


## First runic conversations


Welcome to this first chapter of the IGoR grimoire. In this chapter, we will gradually:

- understand what is the famous runic language R
- start the first dialogues with R using an input window: the console
- familiarize ourselves with the tics of R languages

If necessary, do not hesitate to request one of the quizmasters moving around the room.

But let's start… at the beginning! R is a language used for processing statistical data, the first version of which was published in 2000. First disseminated among researchers, R is now used more and more within national statistical institutes. 

R allows you to make **statistical computations**, to present them in the form of **tables** and also to draw **graphs** and geographical maps. The results produced with R can be exported into **reports** and even be integrated in **web applications**. Mastering the Language of the Runes is a great power ~that comes with great responsibility~!

Unlike other software like SAS, R is a **free software**: its license is free and allows each user to access, modify or redistribute its **source code**. The source code is the equivalent of the manual for making the software. It is also cross-platform: this means that it can be run on several operating systems (Windows, Mac, Linux ...)

## Quizzes you will defeat

In the adventure of icaRius, you will sometimes be asked to answer quizzes to help the character continue his quest. Here is a very first one, just to familiarize yourself with the format of the exercise. So it's up to you to respond directly by checking your choice and then pressing the button called `Submit answer`.

If you need to know how to operate, do not hesitate to ask for one of the quizmasters moving around the room.

```{r ok-quiz-1,echo=FALSE}
quiz(
  question("What does R NOT do?",
    answer("very nice graphics"),
    answer("statistical computations"),
    answer("awesome geographical maps"),
    answer("coffee", correct = TRUE),
    answer("web applications")
  ),
  question('What does "free software" mean?',
    answer("a free software is a wild software, it cannot be found at home"),
    answer("a free software is a software that freely authorizes the use, study, modification and redistribution", correct = TRUE),
    answer("a free software is a software working only with escape key")
  )
)
```

## First steps in the console

You might think that we are going to offer you a video game “console”. Unfortunately, this is not quite the case. In the quest, we will talk about a console to designate a part of the screen where you can practice the Rune Language yourself - in other words, write R yourself and see the result. So it's an **R console**!

Under these lines is an R console and, like a calculator, it is possible to ask it to perform calculations: type below, in the console, a calculation such as `2 + 2` (that's all even harder than `1 + 1`). Then press the button ![](images/run_code.png) at the top right of the console to execute the code (run code means execute the code). The answer to your calculation will then be displayed below the console.


```{r ok-two-plus-two, exercise=TRUE}

```

R fortunately answers `4`! In the future we're going to make it do much more complicated things ...

R has its tics, like everything else. Here, its tic of language is to display the value of an object starting with something like `[1]`. Kind of like someone who always starts sentences with "actually" (or "uh" depending on how precious his language is). 

## Practice...

Here is a slightly larger console that has some pre-populated instructions, always run them with the button to see how R structures its response to your instructions

```{r ok-several_instructions, exercise=TRUE, exercices.lines = 10}
3 + 3
3+3
12345678 * 4

```

The console is a place of dialogue, you command and R does it! Note that you see all the results appear one after the other (for example, there are 3 calculations requested here separately, and R answers you with 3 results): therefore, there is **one answer per instruction**.

n the way of writing the language of Runes, the number of spaces is irrelevant: `3 + 3`, `3+3`, they are all the same.

Each language has its own way of understanding mathematical operations. For fundamentals, R uses `+` for addition and `-` for subtraction (so far so good), but also `*` for multiplication and `/` for division.

Try some calculations, freely and on your own:

```{r ok-error_is_ok, exercise=TRUE}

```


## Put R in order

<span style="color:#18AC3E;font-size:16px">**Create an object**</span>

To go further than a simple calculator, R allows you to remember all the calculations you ask it to perform and also to keep the result of these calculations. To navigate this gigantic memory, a little organization is needed! 

In R, information can be stored in what we will call **objects**: to illustrate, an object is like a box on which we can affix a label (a name) and in which we store a content (the result of a calculation for example). Giving names to objects helps you navigate long calculations.

For example, we are going to create an object named `n_lives`, which will be used to store the number of the hero's lives in the game. Icarius starts its journey with 3 lives, therefore the value we want to give to `n_lives` is 3. To store the value 3 in the object called `n_lives`, the runic language has a very particular sign, namely the arrow `<-`. It is constructed by juxtaposing the sign `<` with the dash `-`. The assignment of a value to an object is performed with the arrow `<-`. For example:

```{r, collapse = TRUE}
# I create the n_lives object (number of the hero's lives)
# assigning to it the value 3
n_lives <- 3
```

The above code assigns the value 3 to the `n_lives` object. You will notice that the arrow used to assign is oriented from right to left: it goes from the value (here 3) to the object that collects the value (here `n_lives`).

By the way, in R, anything that appears after the symbol `#` serves as a comment: R does not read these lines (which appear in another color). This allows you to annotate the code to document it, as in this tutorial.

The `n_lives` object has been created. To display its value in R, all you have to do is... to type its name:

```{r, collapse = TRUE}
# Display the value of an object by typing its name
n_lives
```


<span style="color:#18AC3E;font-size:16px">**Calculate with objects**</span>

Objects can be used in operations of many kinds, starting with calculations on numerical values. We are thus going to multiply the object `n_lives` by 2. As we have seen, the multiplication in R is written with the `*` key

```{r, collapse = TRUE}
# An arithmetic operation on the n_lives object
2*n_lives
```

It is possible to create a new object from an existing object and an operation such as a calculation. For example, we are going to create the `max_n_lives` object to designate the maximum number of lives the hero may have in the adventure. Here,

```{r, collapse = TRUE}
# An arithmetic operation which is associated with the creation of a new object,
# max_n_lives, to designate the maximum number of hero's lives
max_n_lives <- 2*n_lives
# Display the value of max_n_lives
max_n_lives
```

<span style="color:#18AC3E;font-size:16px">**Try for yourself!**</span>

We suggest you to create the objects `n_lives` and `max_n_lives` below, assigning them the values 3 and 6 respectively, then displaying their values. By the way, here's a tip: in the R console, you also can display the solution to get help with the following button:
```{r image_2, echo=FALSE, fig.cap="", out.width = '70px'}
knitr::include_graphics("images/solution.png")
```


```{r ok-chapitre1-etape1,exercise=TRUE}
# Create the object n_lives and max_n_lives


# Display their values


# End of the exercise
``` 
  

```{r ok-chapitre1-etape1-solution}
# Create the object n_lives and max_n_lives
n_lives<-3
max_n_lives<-2*n_lives
# Display their values
n_lives
max_n_lives
# End of the exercise
```   


<span style="color:#18AC3E;font-size:16px">**Preloaded objects**</span>

To help you in your quest, the language of the Runes already has a few “items” already stored in advance. For example, the value of pi is stored in the object `pi`. 

```{r, collapse = TRUE}
# Display the value of pi in R
pi
```




## L'âge des statisiens


<p style="border:1px; border-style:solid; border-color:#000000; padding: 1em;">
```{r image1, echo=FALSE, fig.cap=""}
knitr::include_graphics("images/icarius_hero.png")
```
<span style="color:#18AC3E">**Mais au fait, il nous reste à répondre à la question du mage RegoR... quel âge a icaRius ? **</span>
</p>


Dans le monde de Statis, l'âge suit une logique un peu étrange. À la naissance, les statisiens ont pour âge leur nombre de coeurs multiplié par le nombre pi au carré, auquel on soustrait le nombre maximal de coeurs qu'ils pourront avoir au cours de leur vie... Pour faciliter le tout, on admettra de prendre l'arrondi du résultat obtenu...

**Aie aie aie.** 

Tiens, et si on calculait avec R ? Pour calculer le carré d'un nombre dans R, on utilise le signe `^`, comme par exemple `3^2 = 9`.

```{r, collapse = TRUE}
# La valeur de pi au carré. Pour porter un chiffre à la puissance N, on utilise ^N
pi^2
```

Ecrivons la formule de calcul pour l'âge d'IcaRius. Allons-y pas-à-pas.

```{r, results='hide'}
# le nombre de coeur multiplié par le nombre pi au carré...
nb_coeur * pi^2

# ... moins le nombre maximal de coeur
nb_coeur * pi^2 - max_nb_coeur

# Et c'est déja fini !
```

Pas sorcier finalement. Comme quoi, cette histoire de "mage" dans icaRius, c'est très surfait.

## À vous de jouer !

Et si vous écriviez vous-mêmes la solution pour trouver l'âge d'IcaRius ? Ecrivez ci-dessous votre calcul, exécutez-le pour trouver l'âge... Rappel : l'exécution du code se fait en appuyant sur le bouton :
```{r image2, echo=FALSE, fig.cap="", out.width = '80px'}
knitr::include_graphics("images/run_code.png")
```

```{r ok-chapitre1-etape2,exercise=TRUE}
# Les objets nb_coeur et max_nb_coeur sont déjà chargés
nb_coeur <- 3
max_nb_coeur <- 2*nb_coeur
# Ecrire la formule de calcul de l'âge des statisiens

# Fin de l'exercice
``` 
     
```{r ok-chapitre1-etape2-solution}
# Les objets nb_coeur et max_nb_coeur sont déjà chargés
nb_coeur <- 3
max_nb_coeur <- 2*nb_coeur
# Ecrire la formule de calcul de l'âge des statisiens
(nb_coeur * pi^2) - max_nb_coeur
# Fin de l'exercice
```

À noter que l'on pourrait aller plus loin en calculant dans R l'arrondi du résultat obtenu. Mais nous verrons cela plus tard : pour l'instant, à vous de faire cet arrondi... de tête !

```{r ok-question1,echo=FALSE}
question("Alors, quel âge a Icarius? Ne reste plus qu'à cocher la bonne réponse...pour poursuivre l'aventure!",
type="single",
allow_retry = TRUE,
incorrect="Retente ta chance",
answer("18 ans"),
answer("36 ans"),
answer("24 ans",correct=TRUE),
answer("La bonne réponse n'est pas dans les propositions"),
correct="Félicitations, tu as trouvé le bon âge, l'aventure peut continuer! Reporte directement dans le jeu icaRius (via l'écran bleu) la bonne valeur pour débloquer la suite."
)

```   
 

**Fin du chapitre 1  >>  reprenez la partie d'Icarius**

*(Version du chapitre : 0.9.1)*
